# 1.2.4 프로퍼티 값 설정 방법

- DI 를 통해 빈에 주입되는 것은 두가지
- 하나는 다른 빈 오브젝트의 레퍼런스/ 다른 하나는 단순 값
- 스프링에서 말하는 값이란 스프링이 관리하는 빈이 아닌 모든 것

<메타정보 종류에 따른 값 설정 방법>

1) XML:<property> 와 전용 테그

2) 어노테이션 : @Value

- 빈 의존관계는 아니지만 어떤 값을 외부에서 주입해야 하는 용도는 두가지
- 하나는 환경에 따라 매번 달라질 수 있는 값
- 클래스의 필드에 초기값을 설정해두고 대개는 그 값을 사용하지만 특별한 경우

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled.png)

- 코드와 외부 설정을 분리해서 얻을 수 있는 가장 큰 장점은 설정이 바뀌더라도 소스 코드를 다시 컴파일 하지 않아도 된다는 점

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%201.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%201.png)

- 자바 코드를 통해 직접 필드 값을 초기화할 때와는 분명한 차이가 있음
- 테스트 코드와 같이 컨테이너 밖에서 사용된다면 @Value 어노테이션은 무시됨
- @Value 로 값을 설정해준다는 건 자바 코드와 컨테이너가 런타임 시에 주입하는 정보를 분리하겠다는 의미, 외부로부터의 주입을 통한 초기화가 반드시 필요하다고 이해함

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%202.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%202.png)

3) 자바 코드 : @Value

- 환경에 종속적인 정보는 환경정보나 프로퍼티 파일에서 가져오는 것이 바람직

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%203.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%203.png)

<PropertyEditor 와 ConversionService>

- XML 의 value 애트리뷰트나 @Value 의 앨리먼트는 모두 텍스트 문자로 작성
- 다른 타입이라면 스프링은 두가지 타입 변환 서비스를 제공
- 디폴트로 사용되는 변환기는 PropertyEditor라는 java.beans 의 인터페이스를 구현한 것

  1) 기본 타입

- boolean, byte, short, int ...

  2) 배열

- byte[], char[], ...

  3) 기타

- charset, Class, Currency, File, InputStream...

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%204.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%204.png)

<컬렉션>

  1) List, Set

  2) Map

  3) Properties

  4) <util:list>,<util:set>

  5) <util:map>

  6) <util:properties>

<Null 과 빈 문자열>

<프로퍼티 파일을 이용한 값 설정>

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%205.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%205.png)

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%206.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%206.png)

    1) 수동변환 : PropertyPlaceHolderConfigurer

- 프로퍼티 치환자를 이용하는 방식

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%207.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%207.png)

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%208.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%208.png)

2) 능동변환 : SpEl

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%209.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%209.png)

![1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%2010.png](1%202%204%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%80%E1%85%A1%E1%86%B9%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%204ce9f650ba4c41b2b959f89cc7d24b6e/Untitled%2010.png)