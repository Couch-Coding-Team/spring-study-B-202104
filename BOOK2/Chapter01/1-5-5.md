## 프로퍼티 소스
## 프로퍼티
자바에서 말하는 프로퍼티는 기본적으로 키와 그에 대응되는 값의 쌍을 말한다. 스프링의 XML에서는 <property>의 name과 value 애트리뷰트를 이용해 프로퍼티 정보를 표현한다.

### 스프링에서 사용되는 프로퍼티의 종류
- 환경변수
    - 스프링 애플리케이션이 구동되는 OS의 환경변수도 키와 값으로 표현되는 대표적인 프로퍼티다.
- 시스템 프로퍼티
    - 시스템 프로퍼티는 JVM 레벨에 정의된 프로퍼티를 말한다.
- JNDI
    - WAS 전체에 적용돼야 할 프로퍼티라면 시스템 프로퍼티가 좋겠지만, WAS에 여러개의 웹 애플리케이션이 올라가고 그중 하나의 애플리케이션에만 프로퍼티를 지정하고 싶다면 JNDI 또는 JNDI 환경 값을 사용하는 방법도 고려해볼 만하다.
- 서블릿 컨텍스트 파라미터
    - 웹 애플리케이션 레벨의 프로퍼티를 지정하고 싶긴 한데 서버에서 웹 애플리케이션 범위의 JNDI 값을 설정하기가 번거롭다면 web.xml에 서블릿 컨텍스트 초기 파라미터를 프로퍼티로 사용할 수 있다.
- 서블릿 컨픽 파라미터
    -  서블릿 컨텍스트와 서블릿 컨픽은 혼동하기 쉬운데, 전자는 서블릿이 소속된 웹 애플리케이션의 컨텍스트이고 후자는 개별 서블릿을 위한 설정이다. 따라서 서블릿 컨텍스트가 서블릿 컨픽보다 범위가 넓다. 서블릿 컨텍스트는 특정 서블릿에 소속되지 않은 루트 컨텍스트에도 영향을 주지만, 서블릿 컨픽은 해당 서블릿의 서블릿 컨텍스트에만 영향을 준다.
    
### 프로파일의 통합과 추상화
프로퍼티 소스는 프로파일과 함께 런타임 환경정보를 구성하는 핵심 정보다. Environment 타입의 런타임 오브젝트를 이용하면 일관된 방식으로 프로퍼티 정보를 가져올 수 있다.

### 프로퍼티 소스의 사용
- Environment.getProperty()
    - 주어진 키에 해당하는 프로퍼티 값을 돌려받는다.
- PropertySourceConfigurerPlaceholder와 `<context:property-placeholder>`

### @PropertySource와 프로퍼티 파일
대표적인 프로퍼티 정보 저장 방식인 프로퍼티 파일도 프로퍼티 소스로 등록하고 사용할 수 있다.
```java
@Configuration
@PropertySource("database.properties")
public class AppConfig {
}
```

### 웹 환경에서 사용되는 프로퍼티 소스와 프로퍼티 소스 초기화 오브젝트
루트 웹 컨텍스트나 서블릿 웹 컨텍스트에 의해 만들어지는 웹 애플리케이션 컨텍스트는 StandartServletEnvironment 타입의 런타임 환경 오브젝트를 사용한다. StandartServletEnvironment는 StandardEnvironment가 등록해주는 환경변수 프로퍼티 소스와 시스템 프로퍼티 소스에 더해서 JNDI 프로퍼티 소스, 서블릿 컨텍스트 프로퍼티 소스, 서블릿 컨픽 프로퍼티 소스를 추가로 등록해준다.
