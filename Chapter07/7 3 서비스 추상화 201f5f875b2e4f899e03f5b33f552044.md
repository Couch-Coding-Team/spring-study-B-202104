# 7.3 서비스 추상화

> 자바에는 JAXB 외에도 다양한 XML 과 자바오브젝트를 매핑하는 기술이 있다.
필요에 따라 다른 기술로 손쉽게 바꿔서 사용할 수 있게 해야 한다
XML파일을 좀 더 다양한 소스에서 가져올 수 있게 만든다

7.3.1 OXM 서비스 추상화

<OXM 서비스 인터페이스>

xml과 자바 오브젝트 매핑 기술이 있다.

1. Castor XML
2. Jibx
3. xmlbeans
4. xstream

- xml과 자바오브젝트를 매핑해서 상호 변환해주는 기술을 간단히 oxm이라고 한다
- oxm 프레임워크와 기술들은 기능 면에서 상호 호환성이 있다.(추상화)

![7%203%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA%20201f5f875b2e4f899e03f5b33f552044/Untitled.png](7%203%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA%20201f5f875b2e4f899e03f5b33f552044/Untitled.png)

- 인터페이스에는 자바오브젝트를 XML로 변환하는 Marshaller와 반대로 xml을 자바오브젝트로 변환하는 unmarshaller가 있음

<JAXB 구현 테스트>

Unmarshaller 구현 클래스는 Jaxb2Marshaller 

JaxbMarshaller 클래스는 unmarshaller 인터페이스와 marshaller 인터페이스 모두 구현함

![7%203%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA%20201f5f875b2e4f899e03f5b33f552044/Untitled%201.png](7%203%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA%20201f5f875b2e4f899e03f5b33f552044/Untitled%201.png)

- 추상 인터페이스인 unmarshaller의 unmarshal() 메소드를 한 번 호출해주기만 하면 모든 번거로운 작업은 Jaxb2Marshaller 빈이 알아서 진행해줄 것

![7%203%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA%20201f5f875b2e4f899e03f5b33f552044/Untitled%202.png](7%203%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA%20201f5f875b2e4f899e03f5b33f552044/Untitled%202.png)

<Castor 구현 테스트>

![7%203%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA%20201f5f875b2e4f899e03f5b33f552044/Untitled%203.png](7%203%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA%20201f5f875b2e4f899e03f5b33f552044/Untitled%203.png)