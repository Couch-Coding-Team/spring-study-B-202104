# <2-1 UserDaoTest 다시보기>

> 스프링 개발자에게 제공하는 가장 중요한 가치 
(복잡한 애플리케이션을 개발하는 데 필요한 도구)
  =  객체지향 + 테스트

## 2.1.1 테스트의 유용성

---

- 테스트 
= 내가 예상하고 의도했던 대로 코드가 정확히 동작하는지를 확인해서 만든 코드를 확신할 수 있게 해주는 작업

## 2.1.2 UserDaoTest 의 특징

---
![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3d54e67f-14c9-4ef1-a1c4-2dd247448d67/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3d54e67f-14c9-4ef1-a1c4-2dd247448d67/Untitled.png)

- 자바에서 가장 손쉽게 실행 가능한 main() 메소드를 이용한다
- 테스트할 대상인 UserDao의 오브젝트를 직접 가져와 메소드를 호출함
- 테스트에 사용할 입력 값(User 오브젝트)을 직접 코드에서 만들어 넣어준다
- 테스트의 결과를 콘솔에 출력해준다
- 각 단계의 작업이 에러 없이 끝나면 콘솔에 성공 메시지로 출력해준다

<웹을 통한 DAO 테스트 방법의 문제점>

#) 보통 웹 프로그램에서 사용하는 DAO 를 테스트하는 방법

- DAO 만들고 바로 테스트 하지 않고 웹 화면을 통해 값을 입력하고
- 기능을 수행
- 결과를 확인함

 ⇒ 가장 흔히 쓰이지만 DAO에 대한 테스트로서는 단점이 많음

 ⇒ DAO + 서비스 클래스 + 컨트롤러 + JSP 뷰 다 만들어야 테스트 가능

⇒ 이런 방식의 테스트는 번거롭고, 오류가 있을 때 빠르고 정확하게 대응하기 어려움

<작은 단위의 테스트>

- 테스트는 가능하면 작은 단위로 쪼개서 집중하자
- 단위 테스트 = 작은 단위의 코드에 대해 테스트를 수행한 것
- 크기와 범위가 지정되지 않고 하나의 관심에 집중한 것이 단위
- 단위는 작을 수록 좋고 & 단위를 넘어서는 코드들과 독립성 유지
- UserDaoTest 의 경우 단위테스트 라고 할 수 있음
(다만, DB 상태가 매번 달라지고, 테스트를 위해 DB를 특정 상태로 만들 수 없기에 DB 면에서는 단위 테스트로서 가치가 없어짐)
- 각 단위별로 테스트를 먼저 모두 진행하고 나서 긴 테스트를 해야 훨씬 나아짐
- 작은 단위로 나눠서 테스트하는 단위 테스트 필요 이유

    ⇒ 개발자가 설계하고 만든 코드가 원래 의도한 대로 동작하는지를 개발자 스스로 빨리 확인 받기 위함
       ( = 개발자 테스트 or 프로그래머 테스트)

    ⇒ 확인의 대상과 조건이 간단하고 명확해야 함

<자동 수행 테스트 코드>

- UserDaoTest 의 특징 
= 테스트할 데이터가 코드를 통해 제공되고, 테스트 작업 역시 코드를 통해 자동으로 실행

    → main 메소드를 통해 테스트의 전과정이 자동으로 실행

    → 그런데 애플리케이션을 구성하는 클래스 안에 테스트 코드를 포함시키는 것보다 별도로 테스트용 클래스를 만들어서 테스트 코드를 넣는 편이 낫다

- 자동으로 수행되는 테스트의 장점은 자주 반복할 수 있다는 점
- 언제든 코드를 수정하고 나서 테스트를 해볼 수 있음
- 두려움을 확신으로

<지속적인 개선과 점진적인 개발을 위한 테스트>

- 테스트 = 스프링을 이용한 깔끔하고 완성도 높은 객체지향적 코드로 발전시키는 과정의 일등 공신
- 처음엔 허접하다가도 점진적인 개발이 가능

## 2.1.3 UserDaoTest 의 문제점

---

1. 수동 확인 작업의 번거로움
- 여전히 사람의 눈으로 확인해야 함
- 검증해야 하는 양이 많아지고 복잡해지면 역시 불편함
2. 실행 작업의 번거로움
- 전체 기능을 테스트해보기 위해 main()메소드를 수백번 실행하는 수고가 필요
- main() 메소드를 이용하는 거 보다 좀 더 편리하고 체계적으로 테스트 실행하고 그 결과를 확인하는 방법이 절실함
