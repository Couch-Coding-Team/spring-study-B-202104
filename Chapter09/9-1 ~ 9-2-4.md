# 스프링 프로젝트 시작하기

## 자바 엔터프라이즈 플랫폼과 스프링 애플리케이션

### 클라이언트와 백엔드 시스템

엔터프라이즈 애플리케이션은 자신이 클라이언트가 돼서 또 다른 엔터프라이즈 시스템에 서비스를 요청할 수도 있다. 가장 많이 사용되는 구조는 클라이언트가 웹 브라우저이고 백엔트 시스템이 DB인 구성이다. 웹 클라이언트와 DB가 사용되지 않는 시스템은 거의 없으니, 이를 스프링이 사용되는 애플리케이션의 기본 구조라고 생각할 수도 있다. 그런 면에서 스프링의 주요 기능은 웹 브라우저를 클라이언트로 하고 DB에 데이터를 저장, 조회하는데 집중되어 있다.

### 애플리케이션 서버

스프링으로 만든 애플리케이션을 자바 서버 환경에 배포하려면 Java EE 서버가 필요하다. Java EE 표준을 따르는 애플리케이션 서버는 크게 두 가지로 구분할 수 있다.

1. 경량급 WAS/서블릿 컨테이너<br>
스프링은 기본적으로 톰캣같은 가벼운 서블릿 컨테이너만 있어도 충분하다. 서블릿 컨테이너로도 엔터프라이즈 애플리케이션에 필요한 핵심 기능을 모두 이용할 수 있다.
2. WAS<br>
WAS는 상대적으로 관리 기능이나 모니터링 기능이 뒤어나서 여러 대의 서버를 동시에 운영할 때 유리한 점이 많다. 

### 스프링 애플리케이션의 배포 단위

1. 독립 웹 모듈<br>
스프링은 보통 war로 패키징 된 독립 웹 모듈로 배포된다. 톰캣 같은 서블릿 컨테이너를 쓴다면 독립 웹 모듈이 유일한 방법이다. 여러 개의 웹 보듈을 묶어서 하나의 웹 애플리케이션으로 만들지 않는 한 독립 웹 모듈이 가장 단순하고 편리한 배포 단위이다.
2. 엔터프라이즈 애플리케이션<br>
경우에 따라선 확장자가 ear인 엔터프라이즈 애플리케이션으로 패키징해서 배포할 수도 있다. 
3. 백그라운드 서비스 모듈<br>
rar로 패키징 하는 방법도 있다. rar는 리소스 커넥터를 만들어 배포할 때 사용하는 방식이다.

## 개발 도구와 환경

### JavaSE와 JavaEE

#### JavaSE/JDK

스프링 3.0은 JavaSE 5 버전에서 추가된 새로운 언어와 문법의 특징을 최대한 활용해서 개발됐기 때문에 기본적으로 JDK 5.0 또는 그 이상을 필요로 한다. 특별한 상황이 아니라면 공식 지원을 중단한 JDK보다 스프링 3.0 버전에 맞는 JDK 5.0 이나 그 이후 버전으로 업그레이드 해야한다.

#### JavaEE/J2EE

스프링 3.0이 사용 될 자바 엔터프리이즈 플랫 폼으로는 JavaEE 5.0이 필요하다. 

### IDE

예전에는 텍스트 에디터와 명령행 도구를 이용해서 복잡한 EJB 애플리케이션까지 개발하던 시절도 있었지만, 요즘은 대부분 개발 툴을 떠나지 않고도 개발 과정에서 필요한 모든 일을 처리할 수 있도록 만들어진 통합 개발 환경을 사용하는 추세다.

### SpringSource Tool Suite

STS는 최신 이클립스를 기반으로 주요한 스프링 지원 플러그인과 관련 도구를 모아서 스프링 개발에 최적화 되도록 만들어진 IDE이다. 이클립스와 같이 플러그인 방식을 지원하는 툴을 사용하면 원하는 기능을 필요에 따라 추가할 수 있다는 장점이 있고, 각 플러그인과 이클립스의 버전을 호환되도록 계속 관리 해야하는 단점도 있다.

#### SpringIDE 플러그인

SpringIDE는 스프링 개발에 유용한 기능을 제공하는 플러그인의 모음이다. 스프링 프로젝트와 설정파일 생성 위자드, 편리한 스프링의 XML 설정 파일 에디터, 빈의 의존관계 그래프 등 편리한 기능과 도구들을 제공한다.

1. 빈 클래스 이름 자동완성<br>
가장 유용한 건 bean 태그의 class 애트리뷰트를 입력할 때 클래스 이름에 대한 자동오나성을 지원한다는 것이다.
2. 빈 설정 오류 검증 기능<br>
자동완성 기능은 처음 입력할 때 유용하고, 개발 중에 클래스나 프로퍼티 이름이 변경 됐거나 xml 파일을 직접 수정하다가 주요한 이름을 잘못 건드린 경우에는 빈 설정 오류 검증 기능이 도움이 된다.
3. 프로젝트 생성, 설정파일 생성, 빈 등록 위자드<br>
xml 설정 파일 생성 위자드는 번거로운 스키마 선언부를 손쉽게 추가하거나 수정할 수 있게 해준다.
4. 빈 의존관계 그래프<br>
SpringIDE는 xml 설정파일을 읽어서 자동으로 그래프를 그려준다. 각 빈이 어떻게 참조하고 있는지, 어떤 프로퍼티를 가지고 있는지를 한눈에 볼 수 있다.

#### STS 플러그인
STS 플러그인은 스프링 개발과 설정파일 편집을 지원하는 SpringIDE에 더해서 스프링 애플리케이션의 서버 배치와 같은 추가 기능을 제공해준다. 

#### 기타 플러그인

1. M2Eclipse<br>
M2Eclipse는 Maven을 지원하는 이클립스 플러그인이다.
2. AJDT<br>
AJDT는 AspectJ Development Tool의 약자로, 이클립스에서 AspectJ AOP를 이용한 개발을 지원하는 편리한 툴이다. 
3. VMCI<br>
Virtual Machine Core Integration의 약자로, 워크스테이션과의 연동을 지원하는 플러그인이다.

### 라이브러리 관리와 빌드 툴

#### 라이브러리 관리의 어려움

스프링으로 애플리케이션을 개발할 때는 수백 개의 라이브러리가 필요하다. 요즘의 웬만한 기능은 기존의 오픈소스 라이브러리를 활용하기 때문에 프레임워크 하나에 적게는 5~6개 많게는 수십 개의 의존 라이브러리가 필요한 경우가 있다. 문제는 이런 의존 라이브러리가 항상 필요한 건 아니라는 점이다. 라이브러리마다 여러 개의 버전이 있다는 것도 문제다. 각 라이브러리 마다 정확히 어떤 버전을 사용해야 할지도 알아야 한다. 라이브러리 종류는 같지만 버전이 맞지 않으면 컴파일이 되지 않을 수도 있고 운이 나쁘면 컴파일은 정상적으로 되고 동작은 하지만 운영 중에 오류가 발생할 수도 있다.<br>

![image](https://user-images.githubusercontent.com/37647995/119084789-5cf0fa00-ba3d-11eb-81bc-abe6020e89c1.png)


#### 라이브러리 선정

라이브러리를 선정할 때 가장 먼저 해야 할 작업은 스프링으로 만드는 애플리케이션에서 정확히 어떤 기능이 필요한지를 먼저 정리하는 것이다.

- 스프링 모듈
사용할 기능과 기술 목록이 모두 만들어졌으면 일단 스프링 모듈부터 선정한다. 스프링에는 총 20 개의 모듈이 있다. 일부는 거의 모든 애플리케이션에서 공통적으로 사용되는 필수 모듈이다.
- 라이브러리
스프링의 각 모듈은 또 다른 모듈에 의존하기도 하지만 오픈소스 라이브러리 또는 표준 API를 필요로 하기도 하고 경우에 따라서는 상용 제품의 라이브러리에 의존한다.
